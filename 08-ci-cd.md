# Continuous Integration и Continuous Deployment

При разработке используется следующий workflow:

* Любой пуш в любую ветку репозитория собирает билд из последнего коммита и
прогоняет все тесты. В случае необходимости тестового сервера поднимается либо
встроенный сервер PHP, либо проект разворачивается на домене
`testing.{branch-name}.{staging-server-domain}`. После прохождения тестов
генерируются отчеты по тестам и артефакт репозитория.
* В случае успешного прохождения тестов ветка выкладывается на
`{branch-name}.{staging-server-domain}`.
* В случае успешного прохождения тестов dev-ветки артефакт автоматически
выкладывается на `staging.{staging-server-domain}`. Конфликт с возможной веткой
`staging` разрешается за счет ее отсутствия в репозитории.
* CI-сервер содержит еще одну дополнительную джобу, выкладывающую последний
удачный артефакт на продакшен-сервер(а). Таким образом, Continuous Deployment на
самом деле отсутствует.

`{branch-name}` генерируется из реального имени ветки с заменой всех запрещенных
в доменном имени символов на дефис.

@todo - прокидывание настроек подключения на боевом сервере в артефакт.
